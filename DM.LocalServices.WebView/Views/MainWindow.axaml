<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="DM.LocalServices.WebView.Views.MainWindow"
        x:DataType="views:MainWindow"
        xmlns:views="clr-namespace:DM.LocalServices.WebView.Views"
        Title="DM自助查档机"
        Width="1920" Height="1080"
        WindowState="Maximized"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Navigation Controls (Hidden by default, can be shown for debugging) -->
        <Grid Grid.Row="0" IsVisible="False" x:Name="NavigationGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <Button Grid.Column="0" Content="返回" Width="60" Margin="5" Click="BackButton_Click"/>
            <Button Grid.Column="1" Content="前进" Width="60" Margin="5" Click="ForwardButton_Click"/>
            <Button Grid.Column="2" Content="刷新" Width="60" Margin="5" Click="ReloadButton_Click"/>
            <TextBox Grid.Column="3" x:Name="AddressTextBox" Margin="5" Text="{Binding CurrentUrl}" KeyDown="AddressTextBox_KeyDown"/>
            <Button Grid.Column="4" Content="转到" Width="60" Margin="5" Click="GoButton_Click"/>
        </Grid>
        
        <!-- WebView Content -->
        <Border Grid.Row="1" BorderBrush="Gray" BorderThickness="1">
            <!-- TODO: Implement WebView when Avalonia.WebView becomes available -->
            <Panel x:Name="WebViewContainer" Background="White">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="DM自助查档机" HorizontalAlignment="Center" FontSize="48" FontWeight="Bold" Margin="0,0,0,20"/>
                    <TextBlock Text="WebView 功能将在后续版本中实现" HorizontalAlignment="Center" FontSize="24" Foreground="Gray"/>
                    <TextBlock Text="{Binding CurrentUrl}" HorizontalAlignment="Center" FontSize="16" Margin="0,20,0,0"/>
                </StackPanel>
            </Panel>
        </Border>
        
        <!-- Error Display -->
        <Grid x:Name="ErrorGrid" IsVisible="False" Background="Red">
            <TextBlock Text="网络连接错误" HorizontalAlignment="Center" VerticalAlignment="Center" 
                      FontSize="48" Foreground="White"/>
        </Grid>
        
        <!-- Exit Button (Hidden, positioned at top-left corner) -->
        <Button Width="100" Height="100" 
                HorizontalAlignment="Left" VerticalAlignment="Top" 
                Opacity="0.01" Background="Transparent"
                Click="ExitButton_Click" />
    </Grid>
</Window>