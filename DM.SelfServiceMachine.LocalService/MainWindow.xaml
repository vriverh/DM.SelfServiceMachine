<Window x:Class="DM.SelfServiceMachine.LocalService.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DM.SelfServiceMachine.LocalService"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        mc:Ignorable="d"
        Title="DM自助查档机" Height="1080" Width="1920" WindowState="Maximized" WindowStyle="None" Topmost="True">
    <Border BorderBrush="Gray" BorderThickness="0,1">
        <Grid>
            <Grid >
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid x:Name="TitleGrid" Visibility="Collapsed">
                    <Grid.Resources>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Margin" Value="2,5" />
                        </Style>
                        <Style TargetType="{x:Type TextBox}">
                            <Setter Property="Margin" Value="2,5" />
                        </Style>
                    </Grid.Resources>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Button Content="返回" Width="50" Click="BackButton_Click"/>
                    <Button Content="前进" Grid.Column="1" Width="60" Click="ForwardButton_Click"/>
                    <Button Content="刷新" Grid.Column="2" Width="60" Click="ReloadButton_Click"/>
                    <TextBox x:Name="txtBoxAddress" Text="{Binding Source, ElementName=Browser}" Grid.Column="3" FontSize="12" BorderBrush="Gray" BorderThickness="1" KeyUp="txtBoxAddress_KeyUp"/>
                    <Button Content="转到" Grid.Column="4" Width="60" Click="GoButton_Click"/>
                    <Button Content="打开测试窗口" Grid.Column="5" Width="80" Click="TestButton_Click"/>
                </Grid>
                <Border Grid.Row="1" BorderBrush="Gray" BorderThickness="0,1" >
                    <wv2:WebView2 x:Name="Browser" Source="http://www.baidu.com" CoreWebView2InitializationCompleted="Browser_CoreWebView2InitializationCompleted" ></wv2:WebView2>
                </Border>
            </Grid>
            <Grid x:Name="ErrorGrid">
                <Image Source="/Images/error.png" Stretch="Fill"/>
            </Grid>
            <Popup x:Name="exitPopup" Width="100" Height="100" IsOpen="True" StaysOpen="True" Placement="Absolute" AllowsTransparency="True" Opacity="0.01" Margin="200,0,0,0">
                <Button Width="100" Height="100" HorizontalAlignment="Left" VerticalAlignment="Top" Click="ExitButton_Click"  Opacity="0.01" />
            </Popup>
        </Grid>
    </Border>
</Window>
